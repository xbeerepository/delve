schema-version: 1.0

type: builder


const:
  srcDir: /usr/src
  exportDir: /opt/delve

dependency: golang

provision:
  - url:
      from: https://github.com/go-delve/delve/archive/refs/tags/v{% version %}.tar.gz
      todir: "{% srcDir %}"

build:
  - shell:
      cmd: go install github.com/go-delve/delve/cmd/dlv
      directory: "{% srcDir %}/delve-{% version %}"
  - export: /root/go/bin

